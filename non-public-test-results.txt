==================================================
InfernoSIM Internal Replay Test Suite
Timestamp: Mon Feb  2 20:05:03 IST 2026
Timeout per test: 90s
==================================================

--------------------------------------------------
TEST: Replay at 10x faster time (0.1x)
COMMAND:
  ./infernosim replay --time-scale 0.1 --incident .
--------------------------------------------------

2026/02/02 20:05:04 Stub proxy active on :19000
2026/02/02 20:05:04 Starting deterministic replay | runs=10 timeScale=0.100 maxGap=0s
2026/02/02 20:05:04 Replay progress: 1/36 | rawGap=0s scaledGap=0s wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:05 Replay progress: 11/36 | rawGap=248.365ms scaledGap=24.8365ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:07 Replay progress: 21/36 | rawGap=250.257ms scaledGap=25.0257ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:08 Replay progress: 31/36 | rawGap=249.992ms scaledGap=24.9992ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:08 Replay progress: 1/72 | rawGap=0s scaledGap=0s wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:11 Replay progress: 11/72 | rawGap=248.365ms scaledGap=24.8365ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:13 Replay progress: 21/72 | rawGap=250.257ms scaledGap=25.0257ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:05:14 Replay progress: 31/72 | rawGap=249.992ms scaledGap=24.9992ms wait=0s timeScale=0.100 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Replay at 2x slower time (2.0x)
COMMAND:
  ./infernosim replay --time-scale 2.0 --incident .
--------------------------------------------------

2026/02/02 20:06:34 Stub proxy active on :19000
2026/02/02 20:06:34 Starting deterministic replay | runs=10 timeScale=2.000 maxGap=0s
2026/02/02 20:06:34 Replay progress: 1/108 | rawGap=0s scaledGap=0s wait=0s timeScale=2.000 maxGap=0s
2026/02/02 20:06:54 Replay progress: 11/108 | rawGap=248.365ms scaledGap=496.73ms wait=423.343292ms timeScale=2.000 maxGap=0s
2026/02/02 20:06:58 Replay progress: 21/108 | rawGap=250.257ms scaledGap=500.514ms wait=353.409292ms timeScale=2.000 maxGap=0s
2026/02/02 20:07:03 Replay progress: 31/108 | rawGap=249.992ms scaledGap=499.984ms wait=390.530584ms timeScale=2.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Redis latency +200ms
COMMAND:
  ./infernosim replay --inject "dep=redis latency=+200ms"
--------------------------------------------------

2026/02/02 20:08:04 Stub proxy active on :19000
2026/02/02 20:08:04 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:08:04 Replay progress: 1/144 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:08:14 Replay progress: 11/144 | rawGap=248.365ms scaledGap=248.365ms wait=181.071792ms timeScale=1.000 maxGap=0s
2026/02/02 20:08:16 Replay progress: 21/144 | rawGap=250.257ms scaledGap=250.257ms wait=111.064208ms timeScale=1.000 maxGap=0s
2026/02/02 20:08:19 Replay progress: 31/144 | rawGap=249.992ms scaledGap=249.992ms wait=0s timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Redis error rate 10%
COMMAND:
  ./infernosim replay --inject "dep=redis error=10%"
--------------------------------------------------

2026/02/02 20:09:34 Invalid --inject rule: unknown inject key: "error"

EXIT CODE: 1

--------------------------------------------------
TEST: Redis timeout 1s
COMMAND:
  ./infernosim replay --inject "dep=redis timeout=1s"
--------------------------------------------------

2026/02/02 20:09:34 Stub proxy active on :19000
2026/02/02 20:09:34 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:09:34 Replay progress: 1/180 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:09:44 Replay progress: 11/180 | rawGap=248.365ms scaledGap=248.365ms wait=103.410625ms timeScale=1.000 maxGap=0s
2026/02/02 20:09:47 Replay progress: 21/180 | rawGap=250.257ms scaledGap=250.257ms wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:09:49 Replay progress: 31/180 | rawGap=249.992ms scaledGap=249.992ms wait=0s timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Redis latency +200ms and error 5%
COMMAND:
  ./infernosim replay --inject "dep=redis latency=+200ms error=5%"
--------------------------------------------------

2026/02/02 20:11:04 Invalid --inject rule: unknown inject key: "error"

EXIT CODE: 1

--------------------------------------------------
TEST: Postgres latency +300ms
COMMAND:
  ./infernosim replay --inject "dep=postgres latency=+300ms"
--------------------------------------------------

2026/02/02 20:11:04 Stub proxy active on :19000
2026/02/02 20:11:04 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:11:04 Replay progress: 1/216 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:11:14 Replay progress: 11/216 | rawGap=248.365ms scaledGap=248.365ms wait=101.038542ms timeScale=1.000 maxGap=0s
2026/02/02 20:11:16 Replay progress: 21/216 | rawGap=250.257ms scaledGap=250.257ms wait=137.098875ms timeScale=1.000 maxGap=0s
2026/02/02 20:11:19 Replay progress: 31/216 | rawGap=249.992ms scaledGap=249.992ms wait=0s timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: worldtimeapi.org latency +500ms
COMMAND:
  ./infernosim replay --inject "dep=worldtimeapi.org latency=+500ms"
--------------------------------------------------

2026/02/02 20:12:34 Stub proxy active on :19000
2026/02/02 20:12:34 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:12:34 Replay progress: 1/252 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:12:44 Replay progress: 11/252 | rawGap=248.365ms scaledGap=248.365ms wait=146.382125ms timeScale=1.000 maxGap=0s
2026/02/02 20:12:46 Replay progress: 21/252 | rawGap=250.257ms scaledGap=250.257ms wait=126.762875ms timeScale=1.000 maxGap=0s
2026/02/02 20:12:49 Replay progress: 31/252 | rawGap=249.992ms scaledGap=249.992ms wait=180.663542ms timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Time-scale 0.1 + Redis latency +200ms
COMMAND:
  ./infernosim replay --time-scale 0.1 --inject "dep=redis latency=+200ms"
--------------------------------------------------

2026/02/02 20:14:04 Stub proxy active on :19000
2026/02/02 20:14:04 Starting deterministic replay | runs=10 timeScale=0.100 maxGap=0s
2026/02/02 20:14:04 Replay progress: 1/288 | rawGap=0s scaledGap=0s wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:14:05 Replay progress: 11/288 | rawGap=248.365ms scaledGap=24.8365ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:14:06 Replay progress: 21/288 | rawGap=250.257ms scaledGap=25.0257ms wait=0s timeScale=0.100 maxGap=0s
2026/02/02 20:14:07 Replay progress: 31/288 | rawGap=249.992ms scaledGap=24.9992ms wait=0s timeScale=0.100 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Time-scale 2.0 + Redis error 10%
COMMAND:
  ./infernosim replay --time-scale 2.0 --inject "dep=redis error=10%"
--------------------------------------------------

2026/02/02 20:15:34 Invalid --inject rule: unknown inject key: "error"

EXIT CODE: 1

--------------------------------------------------
TEST: Redis latency +200ms + Auth-service error 5%
COMMAND:
  ./infernosim replay --inject "dep=redis latency=+200ms" --inject "dep=auth-service error=5%"
--------------------------------------------------

2026/02/02 20:15:34 Invalid --inject rule: unknown inject key: "error"

EXIT CODE: 1

--------------------------------------------------
TEST: Determinism check (10 runs)
COMMAND:
  ./infernosim replay --incident . --runs 10
--------------------------------------------------

2026/02/02 20:15:34 Stub proxy active on :19000
2026/02/02 20:15:34 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:15:34 Replay progress: 1/324 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:15:44 Replay progress: 11/324 | rawGap=248.365ms scaledGap=248.365ms wait=96.204958ms timeScale=1.000 maxGap=0s
2026/02/02 20:15:46 Replay progress: 21/324 | rawGap=250.257ms scaledGap=250.257ms wait=129.098417ms timeScale=1.000 maxGap=0s
2026/02/02 20:15:49 Replay progress: 31/324 | rawGap=249.992ms scaledGap=249.992ms wait=179.049833ms timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

--------------------------------------------------
TEST: Baseline replay with Redis latency +200ms
COMMAND:
  ./infernosim replay --incident . --inject "dep=redis latency=+200ms"
--------------------------------------------------

2026/02/02 20:17:04 Stub proxy active on :19000
2026/02/02 20:17:04 Starting deterministic replay | runs=10 timeScale=1.000 maxGap=0s
2026/02/02 20:17:04 Replay progress: 1/360 | rawGap=0s scaledGap=0s wait=0s timeScale=1.000 maxGap=0s
2026/02/02 20:17:14 Replay progress: 11/360 | rawGap=248.365ms scaledGap=248.365ms wait=165.037584ms timeScale=1.000 maxGap=0s
2026/02/02 20:17:16 Replay progress: 21/360 | rawGap=250.257ms scaledGap=250.257ms wait=171.618625ms timeScale=1.000 maxGap=0s
2026/02/02 20:17:19 Replay progress: 31/360 | rawGap=249.992ms scaledGap=249.992ms wait=154.971292ms timeScale=1.000 maxGap=0s

RESULT: TIMEOUT after 90s

==================================================
END OF INTERNAL TEST SUITE
==================================================
